@page "/guide"
@inject HttpClient Http

<RadzenPanel Style="background-color: #1e1e1e; height: 100vh;">
    <!-- Dark background for the entire panel -->
    <div style="padding: 20px; margin-top: 20px;">
        <RadzenRow>
            @if (agileTopics != null)
            {
                @foreach (var agile in agileTopics)
                {
                    <RadzenColumn Size="3">
                        <RadzenCard Style="background-color: #343a40; color: white; padding: 10px; margin: 10px; width: 200px; height: 150px;">
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">
                                <RadzenIcon Icon="@agile.Icon" Style="font-size: 20px; color: #00ff84;" />
                                <h5 style="margin: 5px 0; font-size: 16px; text-align: center;">@agile.Name</h5>
                            </div>
                        </RadzenCard>
                    </RadzenColumn>
                }
            }
            else
            {
                <p style="color: white;">Loading...</p> <!-- Text color set to white for contrast -->
            }
        </RadzenRow>
    </div>
</RadzenPanel>

@code {
    private List<Agile> agileTopics;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            agileTopics = await Http.GetFromJsonAsync<List<Agile>>("https://localhost:7060/api/agile");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error fetching data: {ex.Message}");
        }
    }

    public class Agile
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string Description { get; set; }
        public string Icon { get; set; } // Assuming you have an icon property
    }
}